{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { isNullOrUndefined, addClass, createElement, append, EventHandler, extend, remove } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { ViewBase } from '../renderer/view-base';\nimport * as util from '../base/util';\nimport * as cls from '../base/css-constant';\nimport * as event from '../base/constant';\nvar AgendaBase = /** @class */function (_super) {\n  __extends(AgendaBase, _super);\n  function AgendaBase(parent) {\n    return _super.call(this, parent) || this;\n  }\n  // eslint-disable-next-line max-len\n  AgendaBase.prototype.createAgendaContentElement = function (type, listData, aTd, groupOrder, groupIndex) {\n    var _this = this;\n    var listElement;\n    var fieldMapping = this.parent.eventFields;\n    if (type === 'noEvents') {\n      var noEvents = [{\n        'subject': this.parent.localeObj.getConstant('noEvents')\n      }];\n      listElement = ListBase.createList(this.parent.createElement, noEvents, {\n        moduleName: 'agenda',\n        listClass: this.parent.activeView.viewClass,\n        itemClass: this.parent.activeView.viewClass,\n        template: \"<div class=\\\"\" + cls.AGENDA_NO_EVENT_CLASS + \"\\\">\" + this.parent.localeObj.getConstant('noEvents') + \"</div>\"\n      });\n      if (listElement.querySelector('.e-agenda-item').children.length === 0) {\n        listElement.firstElementChild.appendChild(createElement('div', {\n          className: cls.AGENDA_NO_EVENT_CLASS,\n          innerHTML: this.parent.localeObj.getConstant('noEvents')\n        }));\n      }\n    } else {\n      listElement = ListBase.createList(this.parent.createElement, listData, {\n        moduleName: 'agenda',\n        listClass: this.parent.activeView.viewClass,\n        itemClass: this.parent.activeView.viewClass\n      });\n      var listElements = [].slice.call(listElement.children);\n      listElements.forEach(function (element, li) {\n        var appWrapper = createElement('div', {\n          className: cls.APPOINTMENT_CLASS,\n          attrs: {\n            'data-id': 'Appointment_' + listData[parseInt(li.toString(), 10)][\"\" + _this.parent.eventFields.id],\n            'data-guid': listData[parseInt(li.toString(), 10)].Guid,\n            'role': 'button',\n            'tabindex': '0',\n            'aria-disabled': _this.parent.eventBase.getReadonlyAttribute(listData[parseInt(li.toString(), 10)]),\n            'aria-label': _this.parent.getAnnouncementString(listData[parseInt(li.toString(), 10)])\n          }\n        });\n        if (!isNullOrUndefined(groupIndex)) {\n          appWrapper.setAttribute('data-group-index', groupIndex.toString());\n        }\n        _this.parent.eventBase.applyResourceColor(appWrapper, listData[parseInt(li.toString(), 10)], 'borderColor', groupOrder);\n        var templateEle;\n        if (!isNullOrUndefined(_this.parent.activeViewOptions.eventTemplate)) {\n          addClass([appWrapper], cls.EVENT_TEMPLATE);\n          var scheduleId = _this.parent.element.id + '_';\n          var viewName = _this.parent.activeViewOptions.eventTemplateName;\n          var templateId = scheduleId + viewName + 'eventTemplate';\n          templateEle = _this.parent.getAppointmentTemplate()(listData[parseInt(li.toString(), 10)], _this.parent, 'eventTemplate', templateId, false);\n          if (!isNullOrUndefined(listData[parseInt(li.toString(), 10)][fieldMapping.recurrenceRule])) {\n            var iconClass = listData[parseInt(li.toString(), 10)][fieldMapping.id] === listData[parseInt(li.toString(), 10)][fieldMapping.recurrenceID] ? cls.EVENT_RECURRENCE_ICON_CLASS : cls.EVENT_RECURRENCE_EDIT_ICON_CLASS;\n            appWrapper.appendChild(createElement('div', {\n              className: cls.ICON + ' ' + iconClass\n            }));\n          }\n        } else {\n          templateEle = _this.createAppointment(listData[parseInt(li.toString(), 10)]);\n        }\n        append([].slice.call(templateEle), appWrapper);\n        util.removeChildren(element);\n        element.appendChild(appWrapper);\n        var args = {\n          data: extend({}, listData[parseInt(li.toString(), 10)], null, true),\n          element: element,\n          cancel: false\n        };\n        _this.parent.trigger(event.eventRendered, args, function (eventArgs) {\n          if (eventArgs.cancel) {\n            remove(element);\n          }\n        });\n      });\n    }\n    aTd.appendChild(listElement);\n    if (this.parent.currentView === 'MonthAgenda' && this.parent.activeViewOptions.group.resources.length > 0 || this.parent.currentView === 'Agenda') {\n      addClass([aTd], cls.AGENDA_DAY_BORDER_CLASS);\n    }\n    this.parent.renderTemplates();\n    return aTd;\n  };\n  AgendaBase.prototype.createAppointment = function (event) {\n    var fieldMapping = this.parent.eventFields;\n    var eventSubject = event[fieldMapping.subject] || this.parent.eventSettings.fields.subject.default || this.parent.localeObj.getConstant('addTitle');\n    var eventLocation = event[fieldMapping.location] || this.parent.eventSettings.fields.location.default;\n    var appSubjectWrap = createElement('div', {\n      className: cls.SUBJECT_WRAP\n    });\n    if (!isNullOrUndefined(eventLocation) && eventLocation !== '') {\n      eventSubject += ',';\n    }\n    var appSubjectText = createElement('div', {\n      className: cls.SUBJECT_CLASS\n    });\n    this.parent.sanitize(eventSubject, appSubjectText);\n    appSubjectWrap.appendChild(appSubjectText);\n    if (!isNullOrUndefined(eventLocation) && eventLocation !== '') {\n      var appLocation = createElement('div', {\n        className: cls.LOCATION_CLASS\n      });\n      this.parent.sanitize(eventLocation, appLocation);\n      appSubjectWrap.appendChild(appLocation);\n    }\n    if (!isNullOrUndefined(event[fieldMapping.recurrenceRule])) {\n      var iconClass = event[fieldMapping.id] === event[fieldMapping.recurrenceID] ? cls.EVENT_RECURRENCE_ICON_CLASS : cls.EVENT_RECURRENCE_EDIT_ICON_CLASS;\n      appSubjectWrap.appendChild(createElement('div', {\n        className: cls.ICON + ' ' + iconClass\n      }));\n    }\n    var strDate = event[fieldMapping.startTime];\n    var endDate = event[fieldMapping.endTime];\n    var isAllDay = event[fieldMapping.isAllDay];\n    var allDayStr = this.parent.localeObj.getConstant('allDay');\n    var timeStr = this.parent.getTimeString(strDate) + ' - ' + this.parent.getTimeString(endDate);\n    if (!isNullOrUndefined(event.data)) {\n      var milliSeconds = endDate.getTimezoneOffset() !== strDate.getTimezoneOffset() ? endDate.getTime() - strDate.getTime() + 3600000 : endDate.getTime() - strDate.getTime();\n      var eventString = milliSeconds / util.MS_PER_DAY >= 1 ? allDayStr : timeStr;\n      allDayStr = eventString + ' (' + this.parent.localeObj.getConstant('day') + ' ' + event.data.index + '/' + event.data.count + ')';\n    }\n    var displayStr = !isNullOrUndefined(event.data) || isAllDay ? allDayStr : timeStr;\n    var appDateTime = createElement('div', {\n      className: cls.DATE_TIME_CLASS,\n      innerHTML: displayStr\n    });\n    return [appSubjectWrap, appDateTime];\n  };\n  AgendaBase.prototype.processAgendaEvents = function (events) {\n    var eventsProcessed = [];\n    if (isNullOrUndefined(events)) {\n      return eventsProcessed;\n    }\n    for (var _i = 0, events_1 = events; _i < events_1.length; _i++) {\n      var event_1 = events_1[_i];\n      var spanned = this.parent.eventBase.splitEventByDay(event_1);\n      eventsProcessed = eventsProcessed.concat(spanned.length > 1 ? spanned : event_1);\n    }\n    return eventsProcessed;\n  };\n  AgendaBase.prototype.wireEventActions = function () {\n    var eventElement = [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_CLASS));\n    for (var _i = 0, eventElement_1 = eventElement; _i < eventElement_1.length; _i++) {\n      var element = eventElement_1[_i];\n      this.parent.eventBase.wireAppointmentEvents(element, this.parent.getEventDetails(element), true);\n    }\n    var dateHeaderElement = [].slice.call(this.parent.element.querySelectorAll('.e-m-date'));\n    for (var _a = 0, dateHeaderElement_1 = dateHeaderElement; _a < dateHeaderElement_1.length; _a++) {\n      var element = dateHeaderElement_1[_a];\n      EventHandler.add(element, 'click', this.parent.agendaModule.dayNavigationClick, this);\n    }\n  };\n  AgendaBase.prototype.calculateResourceTableElement = function (tBody, noOfDays, agendaDate, agendaEnd) {\n    if (agendaEnd === void 0) {\n      agendaEnd = null;\n    }\n    if (isNullOrUndefined(this.parent.resourceBase.lastResourceLevel)) {\n      var level = this.getDateSlots(this.renderDates, this.parent.activeViewOptions.workDays);\n      this.parent.resourceBase.generateResourceLevels(level);\n    }\n    var agendaLastDate = util.addDays(new Date(agendaDate.getTime()), noOfDays);\n    var days = this.parent.activeViewOptions.group.byDate || this.parent.currentView === 'MonthAgenda' ? noOfDays : 1;\n    var resColl = this.parent.resourceBase.resourceCollection;\n    var resData = this.parent.resourceBase.lastResourceLevel;\n    var agendaStart = agendaDate;\n    var initialDate = agendaDate;\n    var showWeekend = this.parent.activeViewOptions.showWeekend;\n    for (var i = 0; i < days; i++) {\n      var lastLevelInfo = [];\n      var tempLastLevelInfo = [];\n      var tempIndex = 0;\n      var eventObj = void 0;\n      var dateObj = void 0;\n      var firstDate = util.addDays(initialDate, i);\n      if (this.parent.currentView === 'Agenda' && this.parent.activeViewOptions.group.byDate && this.parent.activeViewOptions.allowVirtualScrolling && !showWeekend && !this.isWorkDay(firstDate)) {\n        do {\n          firstDate = util.addDays(firstDate, 1);\n          if (firstDate >= agendaEnd) {\n            break;\n          }\n        } while (!this.isWorkDay(firstDate) || this.parent.eventBase.filterEvents(firstDate, util.addDays(firstDate, 1)).length < 1);\n        if (firstDate >= agendaEnd) {\n          break;\n        }\n        initialDate = util.addDays(firstDate, -i);\n        agendaLastDate = util.addDays(firstDate, 1);\n      }\n      var finalDate = this.parent.activeViewOptions.group.byDate || this.parent.currentView === 'MonthAgenda' ? util.addDays(firstDate, 1) : agendaLastDate;\n      var agendaCollection = this.parent.eventBase.filterEvents(firstDate, finalDate);\n      if (agendaCollection.length > 0 || !this.parent.hideEmptyAgendaDays || this.parent.currentView === 'MonthAgenda') {\n        for (var res = 0; res < resData.length; res++) {\n          noOfDays = !this.parent.activeViewOptions.group.byDate || this.parent.currentView === 'MonthAgenda' ? noOfDays : 1;\n          var data = [];\n          agendaDate = firstDate;\n          // eslint-disable-next-line max-len\n          var resDataCollection = this.parent.eventBase.filterEvents(agendaDate, agendaLastDate, agendaCollection, resData[parseInt(res.toString(), 10)]);\n          if (resDataCollection.length > 0 || !this.parent.hideEmptyAgendaDays || this.parent.currentView === 'MonthAgenda') {\n            for (var r = 0; r < noOfDays; r++) {\n              // eslint-disable-next-line max-len\n              var resDayCollection = this.parent.eventBase.filterEvents(agendaDate, util.addDays(agendaDate, 1), resDataCollection, undefined);\n              if ((showWeekend || !showWeekend && (this.parent.group.byDate ? this.isWorkDay(agendaDate) : this.isWorkDay(agendaDate, resData[parseInt(res.toString(), 10)].workDays))) && (resDayCollection.length > 0 || !this.parent.hideEmptyAgendaDays) || this.parent.currentView === 'MonthAgenda') {\n                data.push(resDayCollection[0]);\n                eventObj = {\n                  rowSpan: 1,\n                  type: 'eventColumn',\n                  resource: resColl[resColl.length - 1],\n                  groupIndex: resData[parseInt(res.toString(), 10)].groupIndex,\n                  groupOrder: resData[parseInt(res.toString(), 10)].groupOrder,\n                  resourceData: resData[parseInt(res.toString(), 10)].resourceData,\n                  eventData: resDayCollection,\n                  date: agendaDate\n                };\n                dateObj = {\n                  rowSpan: 1,\n                  type: 'dateColumn',\n                  resource: resColl[parseInt((resColl.length - 1).toString(), 10)],\n                  groupOrder: resData[parseInt(res.toString(), 10)].groupOrder,\n                  resourceData: resData[parseInt(res.toString(), 10)].resourceData,\n                  date: agendaDate\n                };\n                if (!lastLevelInfo[parseInt(tempIndex.toString(), 10)]) {\n                  lastLevelInfo[parseInt(tempIndex.toString(), 10)] = [];\n                }\n                lastLevelInfo[parseInt(tempIndex.toString(), 10)].push(eventObj);\n                lastLevelInfo[parseInt(tempIndex.toString(), 10)].push(dateObj);\n                tempIndex++;\n              }\n              agendaDate = util.addDays(agendaDate, 1);\n              if (agendaDate.getTime() >= agendaLastDate.getTime() || this.parent.activeViewOptions.group.byDate || this.parent.currentView === 'MonthAgenda') {\n                if (data.length > 0) {\n                  lastLevelInfo[lastLevelInfo.length - 1][1].cssClass = cls.AGENDA_DAY_BORDER_CLASS;\n                  var tempObj = {\n                    rowSpan: data.length,\n                    type: 'resourceColumn',\n                    resource: resColl[parseInt((resColl.length - 1).toString(), 10)],\n                    groupOrder: resData[parseInt(res.toString(), 10)].groupOrder.slice(0, -1),\n                    resourceData: resData[parseInt(res.toString(), 10)].resourceData,\n                    groupIndex: lastLevelInfo.length - data.length,\n                    className: [cls.RESOURCE_NAME],\n                    date: agendaDate\n                  };\n                  lastLevelInfo[parseInt((lastLevelInfo.length - data.length).toString(), 10)].push(tempObj);\n                  tempLastLevelInfo.push(extend({}, tempObj, null, true));\n                }\n                break;\n              }\n            }\n          }\n        }\n        var topResources = resColl.slice(0, -1);\n        var tempGroupedData = [];\n        var totalRowSpan = 0;\n        for (var y = 0; y < topResources.length; y++) {\n          var data = topResources[topResources.length - (y + 1)].dataSource;\n          for (var x = 0; x < data.length; x++) {\n            var z = 0;\n            for (var u = 0; u < tempLastLevelInfo.length; u++) {\n              // eslint-disable-next-line max-len\n              if (tempLastLevelInfo[parseInt(u.toString(), 10)].groupOrder[topResources.length - (y + 1)] === data[parseInt(x.toString(), 10)][topResources[topResources.length - (y + 1)].idField]) {\n                totalRowSpan = totalRowSpan + tempLastLevelInfo[parseInt(u.toString(), 10)].rowSpan;\n                tempGroupedData.push(extend({}, tempLastLevelInfo[parseInt(u.toString(), 10)], null, true));\n              }\n              if (++z === tempLastLevelInfo.length && tempGroupedData.length > 0) {\n                tempGroupedData[0].rowSpan = totalRowSpan;\n                tempGroupedData[0].type = 'parentColumnLevel_' + (y + 1);\n                tempGroupedData[0].resource = topResources[topResources.length - (y + 1)];\n                tempGroupedData[0].resourceData = data[parseInt(x.toString(), 10)];\n                tempGroupedData[0].date = agendaDate;\n                lastLevelInfo[tempGroupedData[0].groupIndex].push(tempGroupedData[0]);\n                tempGroupedData = [];\n                totalRowSpan = 0;\n              }\n            }\n          }\n        }\n        this.createResourceTableRow(lastLevelInfo, tBody);\n      }\n    }\n    var totalCollection = this.parent.eventBase.filterEvents(agendaStart, agendaLastDate);\n    if (totalCollection.length === 0 && !this.parent.activeViewOptions.allowVirtualScrolling && this.parent.hideEmptyAgendaDays) {\n      this.renderEmptyContent(tBody, agendaStart);\n    }\n  };\n  AgendaBase.prototype.createResourceTableRow = function (tContent, tBody) {\n    var tr = createElement('tr');\n    var ntr;\n    var td = createElement('td');\n    var tempData;\n    var rowSpan = 0;\n    var level;\n    if (this.parent.activeViewOptions.group.byDate || this.parent.currentView === 'MonthAgenda') {\n      var tContentCollection = [];\n      var parentCollection = this.parent.resourceBase.resourceCollection.slice(0, -1);\n      for (var w = 0; w < tContent.length; w++) {\n        tContentCollection = tContentCollection.concat(tContent[parseInt(w.toString(), 10)]);\n      }\n      level = parentCollection.length > 0 ? 'parentColumnLevel_' + parentCollection.length : 'resourceColumn';\n      var rowSpanCollection = tContentCollection.filter(function (data) {\n        return data.type === level;\n      });\n      for (var x = 0; x < rowSpanCollection.length; x++) {\n        rowSpan = rowSpan + rowSpanCollection[parseInt(x.toString(), 10)].rowSpan;\n      }\n    }\n    for (var row = 0; row < tContent.length; row++) {\n      ntr = tr.cloneNode();\n      for (var col = tContent[parseInt(row.toString(), 10)].length - 1; col >= 0; col--) {\n        var data = tContent[parseInt(row.toString(), 10)][parseInt(col.toString(), 10)];\n        var ntd = td.cloneNode();\n        if (data.type === 'dateColumn') {\n          if (this.parent.activeViewOptions.group.byDate || this.parent.currentView === 'MonthAgenda') {\n            tempData = tContent[parseInt(row.toString(), 10)][parseInt(col.toString(), 10)];\n            continue;\n          }\n          ntd.setAttribute('data-date', data.date.getTime().toString());\n          ntd.appendChild(this.createDateHeaderElement(data.date));\n          var className = [cls.AGENDA_CELLS_CLASS, cls.AGENDA_DATE_CLASS];\n          if (data.cssClass) {\n            className.push(data.cssClass);\n          }\n          addClass([ntd], className);\n          if (this.isCurrentDate(new Date(data.date.getTime()))) {\n            addClass(ntd.childNodes, cls.AGENDA_CURRENT_DAY_CLASS);\n          }\n          ntr.appendChild(ntd);\n        } else if (data.type === 'eventColumn') {\n          var elementType = data.eventData.length === 0 ? 'noEvents' : 'data';\n          ntd = this.createAgendaContentElement(elementType, data.eventData, ntd, data.groupOrder, data.groupIndex);\n          ntd.setAttribute('data-date', data.date.getTime().toString());\n          if (this.parent.activeViewOptions.group.byDate || this.parent.currentView === 'MonthAgenda') {\n            addClass([ntd], [cls.AGENDA_CELLS_CLASS, cls.AGENDA_DAY_PADDING_CLASS]);\n          }\n          ntr.appendChild(ntd);\n        } else {\n          ntd.setAttribute('rowspan', data.rowSpan.toString());\n          addClass([ntd], cls.AGENDA_RESOURCE_CLASS);\n          this.setResourceHeaderContent(ntd, data, data.className[0]);\n          ntr.appendChild(ntd);\n        }\n      }\n      if (this.parent.activeViewOptions.group.byDate && row === 0 && this.parent.currentView !== 'MonthAgenda') {\n        var ntd = td.cloneNode();\n        ntd.setAttribute('data-date', tempData.date.getTime().toString());\n        ntd.setAttribute('rowspan', rowSpan.toString());\n        ntd.appendChild(this.createDateHeaderElement(tempData.date));\n        addClass([ntd], [cls.AGENDA_CELLS_CLASS, cls.AGENDA_DATE_CLASS, cls.DATE_BORDER_CLASS]);\n        var daysCount = util.getDaysCount(this.parent.selectedDate.getTime(), tempData.date.getTime());\n        ntr.setAttribute('data-row-index', daysCount.toString());\n        if (this.parent.element.querySelector(\".e-agenda-view tr[data-row-index=\\\"\" + daysCount + \"\\\"]\")) {\n          break;\n        }\n        ntr.insertBefore(ntd, ntr.childNodes[0]);\n      }\n      tBody.appendChild(ntr);\n    }\n  };\n  AgendaBase.prototype.createDateHeaderElement = function (date) {\n    var dateHeader;\n    if (this.parent.activeViewOptions.dateHeaderTemplate) {\n      dateHeader = createElement('div', {\n        className: cls.AGENDA_HEADER_CLASS\n      });\n      var args = {\n        date: date,\n        type: 'dateHeader'\n      };\n      var scheduleId = this.parent.element.id + '_';\n      var viewName = this.parent.activeViewOptions.dateHeaderTemplateName;\n      var templateId = scheduleId + viewName + 'dateHeaderTemplate';\n      var dateTemplate = [].slice.call(this.parent.getDateHeaderTemplate()(args, this.parent, 'dateHeaderTemplate', templateId, false));\n      append(dateTemplate, dateHeader);\n    } else {\n      dateHeader = this.getMobileDateElement(date, cls.AGENDA_HEADER_CLASS);\n    }\n    return dateHeader;\n  };\n  AgendaBase.prototype.renderEmptyContent = function (tBody, agendaDate) {\n    var eTr = this.createTableRowElement(agendaDate, 'noEvents');\n    var eTd = eTr.children[0];\n    var noEvents = createElement('div', {\n      className: cls.AGENDA_EMPTY_EVENT_CLASS,\n      innerHTML: this.parent.localeObj.getConstant('noEvents')\n    });\n    eTd.appendChild(noEvents);\n    tBody.appendChild(eTr);\n  };\n  AgendaBase.prototype.createTableRowElement = function (date, type) {\n    var daysCount = util.getDaysCount(this.parent.selectedDate.getTime(), date.getTime());\n    var tr = createElement('tr', {\n      attrs: {\n        'data-row-index': daysCount.toString()\n      }\n    });\n    var td = createElement('td', {\n      attrs: {\n        'class': type === 'monthHeader' ? cls.MONTH_HEADER_CLASS : cls.AGENDA_CELLS_CLASS,\n        'aria-selected': 'false',\n        'data-column-index': daysCount.toString(),\n        'data-date': date.getTime().toString()\n      }\n    });\n    var dTd = td.cloneNode();\n    var aTd = td.cloneNode();\n    tr.appendChild(dTd);\n    if (type !== 'noEvents') {\n      tr.appendChild(aTd);\n    }\n    return tr;\n  };\n  AgendaBase.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n  };\n  return AgendaBase;\n}(ViewBase);\nexport { AgendaBase };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","isNullOrUndefined","addClass","createElement","append","EventHandler","extend","remove","ListBase","ViewBase","util","cls","event","AgendaBase","_super","parent","call","createAgendaContentElement","type","listData","aTd","groupOrder","groupIndex","_this","listElement","fieldMapping","eventFields","noEvents","localeObj","getConstant","createList","moduleName","listClass","activeView","viewClass","itemClass","template","AGENDA_NO_EVENT_CLASS","querySelector","children","length","firstElementChild","appendChild","className","innerHTML","listElements","slice","forEach","element","li","appWrapper","APPOINTMENT_CLASS","attrs","parseInt","toString","id","Guid","eventBase","getReadonlyAttribute","getAnnouncementString","setAttribute","applyResourceColor","templateEle","activeViewOptions","eventTemplate","EVENT_TEMPLATE","scheduleId","viewName","eventTemplateName","templateId","getAppointmentTemplate","recurrenceRule","iconClass","recurrenceID","EVENT_RECURRENCE_ICON_CLASS","EVENT_RECURRENCE_EDIT_ICON_CLASS","ICON","createAppointment","removeChildren","args","data","cancel","trigger","eventRendered","eventArgs","currentView","group","resources","AGENDA_DAY_BORDER_CLASS","renderTemplates","eventSubject","subject","eventSettings","fields","default","eventLocation","location","appSubjectWrap","SUBJECT_WRAP","appSubjectText","SUBJECT_CLASS","sanitize","appLocation","LOCATION_CLASS","strDate","startTime","endDate","endTime","isAllDay","allDayStr","timeStr","getTimeString","milliSeconds","getTimezoneOffset","getTime","eventString","MS_PER_DAY","index","count","displayStr","appDateTime","DATE_TIME_CLASS","processAgendaEvents","events","eventsProcessed","_i","events_1","event_1","spanned","splitEventByDay","concat","wireEventActions","eventElement","querySelectorAll","eventElement_1","wireAppointmentEvents","getEventDetails","dateHeaderElement","_a","dateHeaderElement_1","add","agendaModule","dayNavigationClick","calculateResourceTableElement","tBody","noOfDays","agendaDate","agendaEnd","resourceBase","lastResourceLevel","level","getDateSlots","renderDates","workDays","generateResourceLevels","agendaLastDate","addDays","Date","days","byDate","resColl","resourceCollection","resData","agendaStart","initialDate","showWeekend","i","lastLevelInfo","tempLastLevelInfo","tempIndex","eventObj","dateObj","firstDate","allowVirtualScrolling","isWorkDay","filterEvents","finalDate","agendaCollection","hideEmptyAgendaDays","res","resDataCollection","r","resDayCollection","undefined","push","rowSpan","resource","resourceData","eventData","date","cssClass","tempObj","RESOURCE_NAME","topResources","tempGroupedData","totalRowSpan","y","dataSource","x","z","u","idField","createResourceTableRow","totalCollection","renderEmptyContent","tContent","tr","ntr","td","tempData","tContentCollection","parentCollection","w","rowSpanCollection","filter","row","cloneNode","col","ntd","createDateHeaderElement","AGENDA_CELLS_CLASS","AGENDA_DATE_CLASS","isCurrentDate","childNodes","AGENDA_CURRENT_DAY_CLASS","elementType","AGENDA_DAY_PADDING_CLASS","AGENDA_RESOURCE_CLASS","setResourceHeaderContent","DATE_BORDER_CLASS","daysCount","getDaysCount","selectedDate","insertBefore","dateHeader","dateHeaderTemplate","AGENDA_HEADER_CLASS","dateHeaderTemplateName","dateTemplate","getDateHeaderTemplate","getMobileDateElement","eTr","createTableRowElement","eTd","AGENDA_EMPTY_EVENT_CLASS","MONTH_HEADER_CLASS","dTd","destroy"],"sources":["/Users/annalisekimura/Desktop/Calendar/calendar/node_modules/@syncfusion/ej2-schedule/src/schedule/event-renderer/agenda-base.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { isNullOrUndefined, addClass, createElement, append, EventHandler, extend, remove } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { ViewBase } from '../renderer/view-base';\nimport * as util from '../base/util';\nimport * as cls from '../base/css-constant';\nimport * as event from '../base/constant';\nvar AgendaBase = /** @class */ (function (_super) {\n    __extends(AgendaBase, _super);\n    function AgendaBase(parent) {\n        return _super.call(this, parent) || this;\n    }\n    // eslint-disable-next-line max-len\n    AgendaBase.prototype.createAgendaContentElement = function (type, listData, aTd, groupOrder, groupIndex) {\n        var _this = this;\n        var listElement;\n        var fieldMapping = this.parent.eventFields;\n        if (type === 'noEvents') {\n            var noEvents = [{ 'subject': this.parent.localeObj.getConstant('noEvents') }];\n            listElement = ListBase.createList(this.parent.createElement, noEvents, {\n                moduleName: 'agenda',\n                listClass: this.parent.activeView.viewClass,\n                itemClass: this.parent.activeView.viewClass,\n                template: \"<div class=\\\"\" + cls.AGENDA_NO_EVENT_CLASS + \"\\\">\" + this.parent.localeObj.getConstant('noEvents') + \"</div>\"\n            });\n            if (listElement.querySelector('.e-agenda-item').children.length === 0) {\n                listElement.firstElementChild.appendChild(createElement('div', { className: cls.AGENDA_NO_EVENT_CLASS, innerHTML: this.parent.localeObj.getConstant('noEvents') }));\n            }\n        }\n        else {\n            listElement = ListBase.createList(this.parent.createElement, listData, {\n                moduleName: 'agenda',\n                listClass: this.parent.activeView.viewClass,\n                itemClass: this.parent.activeView.viewClass\n            });\n            var listElements = [].slice.call(listElement.children);\n            listElements.forEach(function (element, li) {\n                var appWrapper = createElement('div', {\n                    className: cls.APPOINTMENT_CLASS, attrs: {\n                        'data-id': 'Appointment_' + listData[parseInt(li.toString(), 10)][\"\" + _this.parent.eventFields.id],\n                        'data-guid': listData[parseInt(li.toString(), 10)].Guid,\n                        'role': 'button',\n                        'tabindex': '0',\n                        'aria-disabled': _this.parent.eventBase.getReadonlyAttribute(listData[parseInt(li.toString(), 10)]),\n                        'aria-label': _this.parent.getAnnouncementString(listData[parseInt(li.toString(), 10)])\n                    }\n                });\n                if (!isNullOrUndefined(groupIndex)) {\n                    appWrapper.setAttribute('data-group-index', groupIndex.toString());\n                }\n                _this.parent.eventBase.applyResourceColor(appWrapper, listData[parseInt(li.toString(), 10)], 'borderColor', groupOrder);\n                var templateEle;\n                if (!isNullOrUndefined(_this.parent.activeViewOptions.eventTemplate)) {\n                    addClass([appWrapper], cls.EVENT_TEMPLATE);\n                    var scheduleId = _this.parent.element.id + '_';\n                    var viewName = _this.parent.activeViewOptions.eventTemplateName;\n                    var templateId = scheduleId + viewName + 'eventTemplate';\n                    templateEle = _this.parent.getAppointmentTemplate()(listData[parseInt(li.toString(), 10)], _this.parent, 'eventTemplate', templateId, false);\n                    if (!isNullOrUndefined(listData[parseInt(li.toString(), 10)][fieldMapping.recurrenceRule])) {\n                        var iconClass = (listData[parseInt(li.toString(), 10)][fieldMapping.id] ===\n                            listData[parseInt(li.toString(), 10)][fieldMapping.recurrenceID]) ?\n                            cls.EVENT_RECURRENCE_ICON_CLASS : cls.EVENT_RECURRENCE_EDIT_ICON_CLASS;\n                        appWrapper.appendChild(createElement('div', { className: cls.ICON + ' ' + iconClass }));\n                    }\n                }\n                else {\n                    templateEle = _this.createAppointment(listData[parseInt(li.toString(), 10)]);\n                }\n                append([].slice.call(templateEle), appWrapper);\n                util.removeChildren(element);\n                element.appendChild(appWrapper);\n                var args = {\n                    data: extend({}, listData[parseInt(li.toString(), 10)], null, true),\n                    element: element, cancel: false\n                };\n                _this.parent.trigger(event.eventRendered, args, function (eventArgs) {\n                    if (eventArgs.cancel) {\n                        remove(element);\n                    }\n                });\n            });\n        }\n        aTd.appendChild(listElement);\n        if ((this.parent.currentView === 'MonthAgenda' && this.parent.activeViewOptions.group.resources.length > 0)\n            || this.parent.currentView === 'Agenda') {\n            addClass([aTd], cls.AGENDA_DAY_BORDER_CLASS);\n        }\n        this.parent.renderTemplates();\n        return aTd;\n    };\n    AgendaBase.prototype.createAppointment = function (event) {\n        var fieldMapping = this.parent.eventFields;\n        var eventSubject = (event[fieldMapping.subject] || this.parent.eventSettings.fields.subject.default\n            || this.parent.localeObj.getConstant('addTitle'));\n        var eventLocation = (event[fieldMapping.location] || this.parent.eventSettings.fields.location.default);\n        var appSubjectWrap = createElement('div', { className: cls.SUBJECT_WRAP });\n        if (!isNullOrUndefined(eventLocation) && eventLocation !== '') {\n            eventSubject += ',';\n        }\n        var appSubjectText = createElement('div', { className: cls.SUBJECT_CLASS });\n        this.parent.sanitize(eventSubject, appSubjectText);\n        appSubjectWrap.appendChild(appSubjectText);\n        if (!isNullOrUndefined(eventLocation) && eventLocation !== '') {\n            var appLocation = createElement('div', { className: cls.LOCATION_CLASS });\n            this.parent.sanitize(eventLocation, appLocation);\n            appSubjectWrap.appendChild(appLocation);\n        }\n        if (!isNullOrUndefined(event[fieldMapping.recurrenceRule])) {\n            var iconClass = (event[fieldMapping.id] === event[fieldMapping.recurrenceID]) ?\n                cls.EVENT_RECURRENCE_ICON_CLASS : cls.EVENT_RECURRENCE_EDIT_ICON_CLASS;\n            appSubjectWrap.appendChild(createElement('div', { className: cls.ICON + ' ' + iconClass }));\n        }\n        var strDate = event[fieldMapping.startTime];\n        var endDate = event[fieldMapping.endTime];\n        var isAllDay = event[fieldMapping.isAllDay];\n        var allDayStr = this.parent.localeObj.getConstant('allDay');\n        var timeStr = this.parent.getTimeString(strDate) + ' - ' + this.parent.getTimeString(endDate);\n        if (!isNullOrUndefined(event.data)) {\n            var milliSeconds = (endDate.getTimezoneOffset() !== strDate.getTimezoneOffset()) ?\n                (endDate.getTime() - strDate.getTime() + 3600000) : (endDate.getTime() - strDate.getTime());\n            var eventString = (milliSeconds / util.MS_PER_DAY) >= 1 ? allDayStr : timeStr;\n            allDayStr = eventString + ' (' + this.parent.localeObj.getConstant('day') + ' '\n                + event.data.index + '/' + event.data.count + ')';\n        }\n        var displayStr = (!isNullOrUndefined(event.data) || isAllDay) ? allDayStr : timeStr;\n        var appDateTime = createElement('div', { className: cls.DATE_TIME_CLASS, innerHTML: displayStr });\n        return [appSubjectWrap, appDateTime];\n    };\n    AgendaBase.prototype.processAgendaEvents = function (events) {\n        var eventsProcessed = [];\n        if (isNullOrUndefined(events)) {\n            return eventsProcessed;\n        }\n        for (var _i = 0, events_1 = events; _i < events_1.length; _i++) {\n            var event_1 = events_1[_i];\n            var spanned = this.parent.eventBase.splitEventByDay(event_1);\n            eventsProcessed = eventsProcessed.concat(spanned.length > 1 ? spanned : event_1);\n        }\n        return eventsProcessed;\n    };\n    AgendaBase.prototype.wireEventActions = function () {\n        var eventElement = [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_CLASS));\n        for (var _i = 0, eventElement_1 = eventElement; _i < eventElement_1.length; _i++) {\n            var element = eventElement_1[_i];\n            this.parent.eventBase.wireAppointmentEvents(element, this.parent.getEventDetails(element), true);\n        }\n        var dateHeaderElement = [].slice.call(this.parent.element.querySelectorAll('.e-m-date'));\n        for (var _a = 0, dateHeaderElement_1 = dateHeaderElement; _a < dateHeaderElement_1.length; _a++) {\n            var element = dateHeaderElement_1[_a];\n            EventHandler.add(element, 'click', this.parent.agendaModule.dayNavigationClick, this);\n        }\n    };\n    AgendaBase.prototype.calculateResourceTableElement = function (tBody, noOfDays, agendaDate, agendaEnd) {\n        if (agendaEnd === void 0) { agendaEnd = null; }\n        if (isNullOrUndefined(this.parent.resourceBase.lastResourceLevel)) {\n            var level = this.getDateSlots(this.renderDates, this.parent.activeViewOptions.workDays);\n            this.parent.resourceBase.generateResourceLevels(level);\n        }\n        var agendaLastDate = util.addDays(new Date(agendaDate.getTime()), noOfDays);\n        var days = (this.parent.activeViewOptions.group.byDate || this.parent.currentView === 'MonthAgenda') ? noOfDays : 1;\n        var resColl = this.parent.resourceBase.resourceCollection;\n        var resData = this.parent.resourceBase.lastResourceLevel;\n        var agendaStart = agendaDate;\n        var initialDate = agendaDate;\n        var showWeekend = this.parent.activeViewOptions.showWeekend;\n        for (var i = 0; i < days; i++) {\n            var lastLevelInfo = [];\n            var tempLastLevelInfo = [];\n            var tempIndex = 0;\n            var eventObj = void 0;\n            var dateObj = void 0;\n            var firstDate = util.addDays(initialDate, i);\n            if (this.parent.currentView === 'Agenda' && this.parent.activeViewOptions.group.byDate &&\n                this.parent.activeViewOptions.allowVirtualScrolling && !showWeekend && !this.isWorkDay(firstDate)) {\n                do {\n                    firstDate = util.addDays(firstDate, 1);\n                    if (firstDate >= agendaEnd) {\n                        break;\n                    }\n                } while (!this.isWorkDay(firstDate) ||\n                    this.parent.eventBase.filterEvents(firstDate, util.addDays(firstDate, 1)).length < 1);\n                if (firstDate >= agendaEnd) {\n                    break;\n                }\n                initialDate = util.addDays(firstDate, -i);\n                agendaLastDate = util.addDays(firstDate, 1);\n            }\n            var finalDate = (this.parent.activeViewOptions.group.byDate || this.parent.currentView === 'MonthAgenda')\n                ? util.addDays(firstDate, 1) : agendaLastDate;\n            var agendaCollection = this.parent.eventBase.filterEvents(firstDate, finalDate);\n            if (agendaCollection.length > 0 || !this.parent.hideEmptyAgendaDays || this.parent.currentView === 'MonthAgenda') {\n                for (var res = 0; res < resData.length; res++) {\n                    noOfDays = (!this.parent.activeViewOptions.group.byDate || this.parent.currentView === 'MonthAgenda') ? noOfDays : 1;\n                    var data = [];\n                    agendaDate = firstDate;\n                    // eslint-disable-next-line max-len\n                    var resDataCollection = this.parent.eventBase.filterEvents(agendaDate, agendaLastDate, agendaCollection, resData[parseInt(res.toString(), 10)]);\n                    if (resDataCollection.length > 0 || !this.parent.hideEmptyAgendaDays || this.parent.currentView === 'MonthAgenda') {\n                        for (var r = 0; r < noOfDays; r++) {\n                            // eslint-disable-next-line max-len\n                            var resDayCollection = this.parent.eventBase.filterEvents(agendaDate, util.addDays(agendaDate, 1), resDataCollection, undefined);\n                            if (((showWeekend || !showWeekend && (this.parent.group.byDate ? this.isWorkDay(agendaDate) :\n                                this.isWorkDay(agendaDate, resData[parseInt(res.toString(), 10)].workDays)))\n                                && (resDayCollection.length > 0 || !this.parent.hideEmptyAgendaDays)) ||\n                                this.parent.currentView === 'MonthAgenda') {\n                                data.push(resDayCollection[0]);\n                                eventObj = {\n                                    rowSpan: 1, type: 'eventColumn', resource: resColl[resColl.length - 1],\n                                    groupIndex: resData[parseInt(res.toString(), 10)].groupIndex,\n                                    groupOrder: resData[parseInt(res.toString(), 10)].groupOrder,\n                                    resourceData: resData[parseInt(res.toString(), 10)].resourceData,\n                                    eventData: resDayCollection, date: agendaDate\n                                };\n                                dateObj = {\n                                    rowSpan: 1, type: 'dateColumn', resource: resColl[parseInt((resColl.length - 1).toString(), 10)],\n                                    groupOrder: resData[parseInt(res.toString(), 10)].groupOrder,\n                                    resourceData: resData[parseInt(res.toString(), 10)].resourceData,\n                                    date: agendaDate\n                                };\n                                if (!lastLevelInfo[parseInt(tempIndex.toString(), 10)]) {\n                                    lastLevelInfo[parseInt(tempIndex.toString(), 10)] = [];\n                                }\n                                lastLevelInfo[parseInt(tempIndex.toString(), 10)].push(eventObj);\n                                lastLevelInfo[parseInt(tempIndex.toString(), 10)].push(dateObj);\n                                tempIndex++;\n                            }\n                            agendaDate = util.addDays(agendaDate, 1);\n                            if (agendaDate.getTime() >= agendaLastDate.getTime() || this.parent.activeViewOptions.group.byDate\n                                || this.parent.currentView === 'MonthAgenda') {\n                                if (data.length > 0) {\n                                    lastLevelInfo[lastLevelInfo.length - 1][1].cssClass = cls.AGENDA_DAY_BORDER_CLASS;\n                                    var tempObj = {\n                                        rowSpan: data.length, type: 'resourceColumn', resource: resColl[parseInt((resColl.length - 1).toString(), 10)],\n                                        groupOrder: resData[parseInt(res.toString(), 10)].groupOrder.slice(0, -1),\n                                        resourceData: resData[parseInt(res.toString(), 10)].resourceData,\n                                        groupIndex: (lastLevelInfo.length - data.length), className: [cls.RESOURCE_NAME],\n                                        date: agendaDate\n                                    };\n                                    lastLevelInfo[parseInt((lastLevelInfo.length - data.length).toString(), 10)].push(tempObj);\n                                    tempLastLevelInfo.push(extend({}, tempObj, null, true));\n                                }\n                                break;\n                            }\n                        }\n                    }\n                }\n                var topResources = resColl.slice(0, -1);\n                var tempGroupedData = [];\n                var totalRowSpan = 0;\n                for (var y = 0; y < topResources.length; y++) {\n                    var data = topResources[topResources.length - (y + 1)].dataSource;\n                    for (var x = 0; x < data.length; x++) {\n                        var z = 0;\n                        for (var u = 0; u < tempLastLevelInfo.length; u++) {\n                            // eslint-disable-next-line max-len\n                            if (tempLastLevelInfo[parseInt(u.toString(), 10)].groupOrder[topResources.length - (y + 1)] === data[parseInt(x.toString(), 10)][topResources[topResources.length - (y + 1)].idField]) {\n                                totalRowSpan = totalRowSpan + tempLastLevelInfo[parseInt(u.toString(), 10)].rowSpan;\n                                tempGroupedData.push(extend({}, tempLastLevelInfo[parseInt(u.toString(), 10)], null, true));\n                            }\n                            if (++z === tempLastLevelInfo.length && tempGroupedData.length > 0) {\n                                tempGroupedData[0].rowSpan = totalRowSpan;\n                                tempGroupedData[0].type = 'parentColumnLevel_' + (y + 1);\n                                tempGroupedData[0].resource = topResources[topResources.length - (y + 1)];\n                                tempGroupedData[0].resourceData = data[parseInt(x.toString(), 10)];\n                                tempGroupedData[0].date = agendaDate;\n                                lastLevelInfo[tempGroupedData[0].groupIndex].push(tempGroupedData[0]);\n                                tempGroupedData = [];\n                                totalRowSpan = 0;\n                            }\n                        }\n                    }\n                }\n                this.createResourceTableRow(lastLevelInfo, tBody);\n            }\n        }\n        var totalCollection = this.parent.eventBase.filterEvents(agendaStart, agendaLastDate);\n        if (totalCollection.length === 0 && !this.parent.activeViewOptions.allowVirtualScrolling && this.parent.hideEmptyAgendaDays) {\n            this.renderEmptyContent(tBody, agendaStart);\n        }\n    };\n    AgendaBase.prototype.createResourceTableRow = function (tContent, tBody) {\n        var tr = createElement('tr');\n        var ntr;\n        var td = createElement('td');\n        var tempData;\n        var rowSpan = 0;\n        var level;\n        if (this.parent.activeViewOptions.group.byDate || this.parent.currentView === 'MonthAgenda') {\n            var tContentCollection = [];\n            var parentCollection = this.parent.resourceBase.resourceCollection.slice(0, -1);\n            for (var w = 0; w < tContent.length; w++) {\n                tContentCollection = tContentCollection.concat(tContent[parseInt(w.toString(), 10)]);\n            }\n            level = (parentCollection.length > 0) ? 'parentColumnLevel_' + parentCollection.length : 'resourceColumn';\n            var rowSpanCollection = tContentCollection.filter(function (data) { return data.type === level; });\n            for (var x = 0; x < rowSpanCollection.length; x++) {\n                rowSpan = rowSpan + rowSpanCollection[parseInt(x.toString(), 10)].rowSpan;\n            }\n        }\n        for (var row = 0; row < tContent.length; row++) {\n            ntr = tr.cloneNode();\n            for (var col = tContent[parseInt(row.toString(), 10)].length - 1; col >= 0; col--) {\n                var data = tContent[parseInt(row.toString(), 10)][parseInt(col.toString(), 10)];\n                var ntd = td.cloneNode();\n                if (data.type === 'dateColumn') {\n                    if (this.parent.activeViewOptions.group.byDate || this.parent.currentView === 'MonthAgenda') {\n                        tempData = tContent[parseInt(row.toString(), 10)][parseInt(col.toString(), 10)];\n                        continue;\n                    }\n                    ntd.setAttribute('data-date', data.date.getTime().toString());\n                    ntd.appendChild(this.createDateHeaderElement(data.date));\n                    var className = [cls.AGENDA_CELLS_CLASS, cls.AGENDA_DATE_CLASS];\n                    if (data.cssClass) {\n                        className.push(data.cssClass);\n                    }\n                    addClass([ntd], className);\n                    if (this.isCurrentDate(new Date(data.date.getTime()))) {\n                        addClass(ntd.childNodes, cls.AGENDA_CURRENT_DAY_CLASS);\n                    }\n                    ntr.appendChild(ntd);\n                }\n                else if (data.type === 'eventColumn') {\n                    var elementType = (data.eventData.length === 0) ? 'noEvents' : 'data';\n                    ntd = this.createAgendaContentElement(elementType, data.eventData, ntd, data.groupOrder, data.groupIndex);\n                    ntd.setAttribute('data-date', data.date.getTime().toString());\n                    if (this.parent.activeViewOptions.group.byDate || this.parent.currentView === 'MonthAgenda') {\n                        addClass([ntd], [cls.AGENDA_CELLS_CLASS, cls.AGENDA_DAY_PADDING_CLASS]);\n                    }\n                    ntr.appendChild(ntd);\n                }\n                else {\n                    ntd.setAttribute('rowspan', data.rowSpan.toString());\n                    addClass([ntd], cls.AGENDA_RESOURCE_CLASS);\n                    this.setResourceHeaderContent(ntd, data, data.className[0]);\n                    ntr.appendChild(ntd);\n                }\n            }\n            if (this.parent.activeViewOptions.group.byDate && row === 0 && this.parent.currentView !== 'MonthAgenda') {\n                var ntd = td.cloneNode();\n                ntd.setAttribute('data-date', tempData.date.getTime().toString());\n                ntd.setAttribute('rowspan', rowSpan.toString());\n                ntd.appendChild(this.createDateHeaderElement(tempData.date));\n                addClass([ntd], [cls.AGENDA_CELLS_CLASS, cls.AGENDA_DATE_CLASS, cls.DATE_BORDER_CLASS]);\n                var daysCount = util.getDaysCount(this.parent.selectedDate.getTime(), tempData.date.getTime());\n                ntr.setAttribute('data-row-index', daysCount.toString());\n                if (this.parent.element.querySelector(\".e-agenda-view tr[data-row-index=\\\"\" + daysCount + \"\\\"]\")) {\n                    break;\n                }\n                ntr.insertBefore(ntd, ntr.childNodes[0]);\n            }\n            tBody.appendChild(ntr);\n        }\n    };\n    AgendaBase.prototype.createDateHeaderElement = function (date) {\n        var dateHeader;\n        if (this.parent.activeViewOptions.dateHeaderTemplate) {\n            dateHeader = createElement('div', { className: cls.AGENDA_HEADER_CLASS });\n            var args = { date: date, type: 'dateHeader' };\n            var scheduleId = this.parent.element.id + '_';\n            var viewName = this.parent.activeViewOptions.dateHeaderTemplateName;\n            var templateId = scheduleId + viewName + 'dateHeaderTemplate';\n            var dateTemplate = [].slice.call(this.parent.getDateHeaderTemplate()(args, this.parent, 'dateHeaderTemplate', templateId, false));\n            append(dateTemplate, dateHeader);\n        }\n        else {\n            dateHeader = this.getMobileDateElement(date, cls.AGENDA_HEADER_CLASS);\n        }\n        return dateHeader;\n    };\n    AgendaBase.prototype.renderEmptyContent = function (tBody, agendaDate) {\n        var eTr = this.createTableRowElement(agendaDate, 'noEvents');\n        var eTd = eTr.children[0];\n        var noEvents = createElement('div', {\n            className: cls.AGENDA_EMPTY_EVENT_CLASS,\n            innerHTML: this.parent.localeObj.getConstant('noEvents')\n        });\n        eTd.appendChild(noEvents);\n        tBody.appendChild(eTr);\n    };\n    AgendaBase.prototype.createTableRowElement = function (date, type) {\n        var daysCount = util.getDaysCount(this.parent.selectedDate.getTime(), date.getTime());\n        var tr = createElement('tr', { attrs: { 'data-row-index': daysCount.toString() } });\n        var td = createElement('td', {\n            attrs: {\n                'class': (type === 'monthHeader') ? cls.MONTH_HEADER_CLASS : cls.AGENDA_CELLS_CLASS,\n                'aria-selected': 'false',\n                'data-column-index': daysCount.toString(),\n                'data-date': date.getTime().toString()\n            }\n        });\n        var dTd = td.cloneNode();\n        var aTd = td.cloneNode();\n        tr.appendChild(dTd);\n        if (type !== 'noEvents') {\n            tr.appendChild(aTd);\n        }\n        return tr;\n    };\n    AgendaBase.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    return AgendaBase;\n}(ViewBase));\nexport { AgendaBase };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}