{"ast":null,"code":"var _jsxFileName = \"/Users/annalisekimura/BeProductive/frontend/src/Pages/Week.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport '../App.css';\nimport './week.css';\nimport Fullcalendar from \"@fullcalendar/react\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport interactionPlugin, { Draggable } from \"@fullcalendar/interaction\";\nimport { useContext } from 'react';\nimport { WeekContext } from './WeekContext';\nimport { EventContext } from './EventContext';\nimport { useRef, useEffect } from 'react';\nimport Confetti from \"react-confetti\";\nimport myImage from './FinishBucket.png';\nimport { useState } from 'react';\nimport Sidebar from '../Components/sidebar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction WeekPage() {\n  _s();\n  const calendarRef = useRef(null);\n  const {\n    events2,\n    setEvents2\n  } = useContext(WeekContext);\n  const {\n    events\n  } = useContext(EventContext);\n  const [confetti, setConfetti] = useState(false);\n  const [importantEventsThisWeek, setImportantEventsThisWeek] = useState([]);\n  const [leftPos, setLeftPos] = useState('');\n  const [rightPos, setRightPos] = useState('');\n  const [upPos, setUpPos] = useState('');\n  const [downPos, setDownPos] = useState('');\n\n  // Get stored events to display\n  useEffect(() => {\n    const storedEvents = JSON.parse(localStorage.getItem('calendarEventsWeek'));\n    if (storedEvents) {\n      setEvents2(storedEvents);\n    }\n  }, [setEvents2]);\n  const clearAllEvents = () => {\n    setEvents2([]);\n    localStorage.setItem('calendarEventsWeek', JSON.stringify([]));\n    const calendarApi = calendarRef.current.getApi();\n    calendarApi.removeAllEvents();\n  };\n\n  // Get finish line image\n  useEffect(() => {\n    let containerEl = document.getElementById('image-container');\n    new Draggable(containerEl, {\n      itemSelector: '.finishLine'\n    });\n  }, []);\n  useEffect(() => {\n    if (calendarRef.current) {\n      filterEventsForCurrentWeek();\n    }\n  }, [events, calendarRef.current]);\n\n  // Add an event\n  const handleEventAdd = event => {\n    const newEvents = [...events2, event];\n    setEvents2(newEvents);\n    localStorage.setItem('calendarEventsWeek', JSON.stringify(newEvents));\n  };\n\n  // Delete event when finished\n  const handleEventDrop = eventId => {\n    const updatedEvents = events2.filter(evt => evt.id !== parseInt(eventId, 10));\n    setEvents2(updatedEvents);\n    localStorage.setItem('calendarEventsWeek', JSON.stringify(updatedEvents));\n\n    // Render confetti\n    setConfetti(true);\n    setTimeout(() => setConfetti(false), 3000);\n  };\n\n  // Update calendar when drag event\n  const handleEventDropOrResize = info => {\n    const event = info.event;\n    const updatedEvents = events2.map(evt => evt.id === parseInt(event.id, 10) ? {\n      ...evt,\n      start: event.start.toISOString()\n    } : evt);\n    setEvents2(updatedEvents);\n    localStorage.setItem('calendarEventsWeek', JSON.stringify(updatedEvents));\n  };\n\n  // Delete or edit event when clicked\n  const handleEventClick = info => {\n    const event = info.event;\n    const choice = prompt(`Do you want to edit or delete the event \"${event.title}\"?\\nType 'Edit' or 'Delete'`);\n    if (choice === 'Edit') {\n      const newTitle = prompt('Enter the new title for the event:', event.title);\n      if (newTitle) {\n        event.setProp('title', newTitle);\n        const updatedEvents = events2.map(evt => evt.id === event.id ? {\n          ...evt,\n          title: newTitle\n        } : evt);\n        setEvents2(updatedEvents);\n        localStorage.setItem('calendarEventsWeek', JSON.stringify(updatedEvents));\n      }\n    } else if (choice === 'Delete') {\n      const updatedEvents = events2.filter(evt => evt.id !== parseInt(event.id, 10));\n      event.remove();\n      setEvents2(updatedEvents);\n      localStorage.setItem('calendarEventsWeek', JSON.stringify(updatedEvents));\n      alert('Event deleted. Now, update your database...');\n    }\n  };\n  const filterEventsForCurrentWeek = () => {\n    const calendarApi = calendarRef.current.getApi();\n    const currentStart = calendarApi.view.currentStart;\n    const currentEnd = calendarApi.view.currentEnd;\n    const currentUser = localStorage.getItem('user');\n    const filteredEvents = events.filter(event => {\n      const eventDate = new Date(event.start);\n      console.log(eventDate);\n      console.log(events.id);\n      return eventDate >= currentStart && eventDate < currentEnd && events.userId === currentUser;\n    });\n    setImportantEventsThisWeek(filteredEvents);\n  };\n  useEffect(() => {\n    const imageElement = document.querySelector('.finishLine');\n    if (imageElement) {\n      // Get the position relative to the viewport\n      const imagePosition = imageElement.getBoundingClientRect();\n      setLeftPos(imagePosition.left);\n      setRightPos(imagePosition.right);\n      setDownPos(imagePosition.bottom);\n      setUpPos(imagePosition.top);\n    }\n  }, []);\n  const currentUser = localStorage.getItem('user');\n  const filteredEvents1 = events2.filter(event => event.userId === currentUser);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"weekly-calendar\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Week\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Fullcalendar, {\n          ref: calendarRef,\n          plugins: [dayGridPlugin, timeGridPlugin, interactionPlugin],\n          initialView: \"timeGridWeek\",\n          dateClick: function (info) {\n            var date = info.dateStr;\n            var title = prompt('Enter the event title:');\n            var id = Date.now();\n            const calendarApi = calendarRef.current.getApi();\n            const newEvent = {\n              id: id,\n              title: title,\n              start: date,\n              allDay: false,\n              userId: currentUser\n            };\n            calendarApi.addEvent(newEvent);\n            handleEventAdd(newEvent);\n          }\n\n          //header buttons\n          ,\n          headerToolbar: {\n            center: 'addEventButton'\n          },\n          customButtons: {\n            addEventButton: {\n              text: 'add event...',\n              click: function () {\n                var dateStr = prompt('Enter a date in YYYY-MM-DD format');\n                var timeStr = prompt('Enter a time in T00:00:00 format');\n                var date = new Date(dateStr + timeStr); // local time\n\n                if (!isNaN(date.valueOf())) {\n                  var title = prompt('Enter the event title:');\n                  var id = Date.now();\n                  const calendarApi = calendarRef.current.getApi();\n                  const newEvent = {\n                    id: id,\n                    title: title,\n                    start: date,\n                    allDay: false,\n                    userId: currentUser\n                  };\n                  calendarApi.addEvent(newEvent);\n                  handleEventAdd(newEvent);\n                } else {\n                  alert('Invalid date.');\n                }\n              }\n            }\n          },\n          events: filteredEvents1,\n          eventClick: handleEventClick,\n          editable: true,\n          droppable: true,\n          eventDidMount: info => {\n            const eventEl = info.el;\n            eventEl.setAttribute('draggable', true);\n            eventEl.addEventListener('dragstart', e => {\n              e.dataTransfer.setData('text/plain', info.event.id);\n            });\n          },\n          eventDragStop: info => {\n            const jsEvent = info.jsEvent;\n            if (leftPos <= jsEvent.pageX && jsEvent.pageX <= rightPos + 20 && upPos - 20 <= jsEvent.pageY && jsEvent.pageY <= downPos + 20) {\n              handleEventDrop(info.event.id);\n            }\n          },\n          eventDrop: handleEventDropOrResize //save event when dropped\n          ,\n          height: \"auto\" // Set calendar height to full viewport height\n          ,\n          width: \"100%\" // Set calendar width to 100% of parent container\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"image-container\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"finishLine\",\n          src: myImage,\n          alt: \"Finish Line\",\n          draggable: \"true\",\n          onDrop: e => {\n            e.preventDefault();\n            const eventId = e.dataTransfer.getData('text/plain');\n            handleEventDrop(eventId);\n          },\n          onDragOver: e => e.preventDefault()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 17\n      }, this), confetti && /*#__PURE__*/_jsxDEV(Confetti, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 30\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"event-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Important Dates\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          id: \"lists\",\n          children: importantEventsThisWeek.map((event, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [event.title, \" - \", new Date(event.start).toLocaleDateString()]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 9\n  }, this);\n}\n_s(WeekPage, \"hS3JLt3D/MURxQ5+T9C10RjDp3A=\");\n_c = WeekPage;\nexport default WeekPage;\nvar _c;\n$RefreshReg$(_c, \"WeekPage\");","map":{"version":3,"names":["React","Fullcalendar","dayGridPlugin","timeGridPlugin","interactionPlugin","Draggable","useContext","WeekContext","EventContext","useRef","useEffect","Confetti","myImage","useState","Sidebar","jsxDEV","_jsxDEV","WeekPage","_s","calendarRef","events2","setEvents2","events","confetti","setConfetti","importantEventsThisWeek","setImportantEventsThisWeek","leftPos","setLeftPos","rightPos","setRightPos","upPos","setUpPos","downPos","setDownPos","storedEvents","JSON","parse","localStorage","getItem","clearAllEvents","setItem","stringify","calendarApi","current","getApi","removeAllEvents","containerEl","document","getElementById","itemSelector","filterEventsForCurrentWeek","handleEventAdd","event","newEvents","handleEventDrop","eventId","updatedEvents","filter","evt","id","parseInt","setTimeout","handleEventDropOrResize","info","map","start","toISOString","handleEventClick","choice","prompt","title","newTitle","setProp","remove","alert","currentStart","view","currentEnd","currentUser","filteredEvents","eventDate","Date","console","log","userId","imageElement","querySelector","imagePosition","getBoundingClientRect","left","right","bottom","top","filteredEvents1","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","plugins","initialView","dateClick","date","dateStr","now","newEvent","allDay","addEvent","headerToolbar","center","customButtons","addEventButton","text","click","timeStr","isNaN","valueOf","eventClick","editable","droppable","eventDidMount","eventEl","el","setAttribute","addEventListener","e","dataTransfer","setData","eventDragStop","jsEvent","pageX","pageY","eventDrop","height","width","src","alt","draggable","onDrop","preventDefault","getData","onDragOver","index","toLocaleDateString","_c","$RefreshReg$"],"sources":["/Users/annalisekimura/BeProductive/frontend/src/Pages/Week.js"],"sourcesContent":["import React from 'react';\nimport '../App.css'; \nimport './week.css'\nimport Fullcalendar from \"@fullcalendar/react\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport interactionPlugin, {Draggable} from \"@fullcalendar/interaction\";\nimport { useContext } from 'react';\nimport { WeekContext } from './WeekContext';\nimport { EventContext } from './EventContext';\nimport { useRef, useEffect } from 'react';\nimport Confetti from \"react-confetti\"\nimport myImage from './FinishBucket.png';\nimport { useState } from 'react';\nimport Sidebar from '../Components/sidebar';\n\n\n\nfunction WeekPage() {\n    const calendarRef = useRef(null);\n    const {events2, setEvents2} = useContext(WeekContext);\n    const {events} = useContext(EventContext);\n    const [confetti, setConfetti] = useState(false);\n    const [importantEventsThisWeek, setImportantEventsThisWeek] = useState([]);\n    const [leftPos, setLeftPos] = useState('');\n    const [rightPos, setRightPos] = useState('');\n    const [upPos, setUpPos] = useState('');\n    const [downPos, setDownPos] = useState('');\n\n    // Get stored events to display\n    useEffect(() => {\n        const storedEvents = JSON.parse(localStorage.getItem('calendarEventsWeek'));\n        if (storedEvents) {\n            setEvents2(storedEvents)\n        }\n    }, [setEvents2]);\n\n    const clearAllEvents = () => {\n        setEvents2([]);\n        localStorage.setItem('calendarEventsWeek', JSON.stringify([]));\n        const calendarApi = calendarRef.current.getApi();\n        calendarApi.removeAllEvents();\n    };\n\n    // Get finish line image\n    useEffect(() => {\n        let containerEl = document.getElementById('image-container')\n        new Draggable(containerEl, {\n            itemSelector: '.finishLine'\n          });\n        }, []);\n\n    useEffect(() => {\n        if (calendarRef.current) {\n            filterEventsForCurrentWeek();\n        }\n    }, [events, calendarRef.current]);  \n    \n\n    // Add an event\n    const handleEventAdd = (event) => {\n        const newEvents = [...events2, event];\n        setEvents2(newEvents);\n        localStorage.setItem('calendarEventsWeek', JSON.stringify(newEvents));\n    }\n    \n    // Delete event when finished\n    const handleEventDrop = (eventId) => {\n        const updatedEvents = events2.filter(evt => evt.id !== parseInt(eventId, 10));\n        setEvents2(updatedEvents);\n        localStorage.setItem('calendarEventsWeek', JSON.stringify(updatedEvents));\n\n         // Render confetti\n         setConfetti(true);\n         setTimeout(() => setConfetti(false), 3000);\n    };\n\n    // Update calendar when drag event\n    const handleEventDropOrResize = (info) => {\n        const event = info.event;\n        const updatedEvents = events2.map(evt => evt.id === parseInt(event.id, 10) ? {\n            ...evt,\n            start: event.start.toISOString()\n        } : evt);\n        setEvents2(updatedEvents);\n        localStorage.setItem('calendarEventsWeek', JSON.stringify(updatedEvents));\n    };\n\n\n\n    // Delete or edit event when clicked\n    const handleEventClick = (info) => {\n        const event = info.event;\n        const choice = prompt(`Do you want to edit or delete the event \"${event.title}\"?\\nType 'Edit' or 'Delete'`);\n    \n        if (choice === 'Edit') {\n          const newTitle = prompt('Enter the new title for the event:', event.title);\n          if (newTitle) {\n            event.setProp('title', newTitle);\n            const updatedEvents = events2.map(evt => evt.id === event.id ? {...evt, title: newTitle} : evt);\n            setEvents2(updatedEvents);\n            localStorage.setItem('calendarEventsWeek', JSON.stringify(updatedEvents));\n          }\n        } else if (choice === 'Delete') {\n          const updatedEvents = events2.filter(evt => evt.id !== parseInt(event.id, 10));\n          event.remove();\n          setEvents2(updatedEvents);\n          localStorage.setItem('calendarEventsWeek', JSON.stringify(updatedEvents));\n          alert('Event deleted. Now, update your database...');\n        }\n    };\n\n    const filterEventsForCurrentWeek = () => {\n        const calendarApi = calendarRef.current.getApi();\n        const currentStart = calendarApi.view.currentStart;\n        const currentEnd = calendarApi.view.currentEnd;\n        const currentUser = localStorage.getItem('user');\n\n\n        const filteredEvents = events.filter(event => {\n            const eventDate = new Date(event.start);\n            console.log(eventDate);\n            console.log(events.id);\n            return eventDate >= currentStart && eventDate < currentEnd && events.userId === currentUser;\n        });\n\n        setImportantEventsThisWeek(filteredEvents);\n\n    }\n\n\n    useEffect (() => {\n        const imageElement = document.querySelector('.finishLine');\n        if (imageElement) {\n            // Get the position relative to the viewport\n            const imagePosition = imageElement.getBoundingClientRect();\n \n            setLeftPos(imagePosition.left);\n            setRightPos(imagePosition.right);\n            setDownPos(imagePosition.bottom);\n            setUpPos(imagePosition.top);\n        }\n\n    }, [])\n\n    const currentUser = localStorage.getItem('user');\n    const filteredEvents1 = events2.filter(event => event.userId === currentUser);\n\n    \n    return (\n        <div className=\"container\">\n            <Sidebar />\n            <div className='content2'>\n                <div className=\"weekly-calendar\">\n                    <h1>Week</h1>\n\n                    {/* Display calendar */}\n                    <Fullcalendar\n                        ref={calendarRef}\n                        plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\n                        initialView=\"timeGridWeek\"\n                        dateClick={function(info) {\n                            var date = info.dateStr\n                            var title = prompt('Enter the event title:');\n                            var id = Date.now();\n                            const calendarApi = calendarRef.current.getApi()\n                            const newEvent = {\n                                id: id,\n                                title: title,\n                                start: date,\n                                allDay: false,\n                                userId: currentUser\n                            }\n                            calendarApi.addEvent(newEvent);\n                            handleEventAdd(newEvent);\n                        }}\n\n                        //header buttons\n                        headerToolbar={{\n                            center: 'addEventButton',\n                        }}\n                        customButtons={{\n                            addEventButton: {\n                                text: 'add event...',\n                                click: function() {\n                                    var dateStr = prompt('Enter a date in YYYY-MM-DD format');\n                                    var timeStr = prompt('Enter a time in T00:00:00 format')\n                                    var date = new Date(dateStr + timeStr); // local time\n                        \n                                    if (!isNaN(date.valueOf())) {\n                                        var title = prompt('Enter the event title:');\n                                        var id = Date.now();\n                                        const calendarApi = calendarRef.current.getApi()\n                                        const newEvent = {\n                                                id: id,\n                                                title: title,\n                                                start: date,\n                                                allDay: false,\n                                                userId: currentUser\n                                        }\n                                        calendarApi.addEvent(newEvent);\n                                        handleEventAdd(newEvent);\n                                    } else {\n                                        alert('Invalid date.');\n                                    }\n                                }\n                            }\n                        }}\n                        events={filteredEvents1}\n                        eventClick={handleEventClick}\n                        editable={true}\n                        droppable={true}\n                        eventDidMount={(info) => {\n                            const eventEl = info.el;\n                            eventEl.setAttribute('draggable', true);\n                            eventEl.addEventListener('dragstart', (e) => {\n                                e.dataTransfer.setData('text/plain', info.event.id);\n                            });\n                        }}\n                        eventDragStop={(info) => {\n                            const jsEvent = info.jsEvent;\n\n                            if (leftPos <= jsEvent.pageX && jsEvent.pageX <= (rightPos + 20) && (upPos - 20) <= jsEvent.pageY && jsEvent.pageY <= (downPos + 20)) {\n                                handleEventDrop(info.event.id);\n                            }\n                        }}\n                        eventDrop={handleEventDropOrResize} //save event when dropped\n                        height=\"auto\" // Set calendar height to full viewport height\n                        width=\"100%\" // Set calendar width to 100% of parent container\n                    />\n                </div>\n\n                {/* Finish line image, droppable */}\n                <div id=\"image-container\">\n                    <img\n                        className=\"finishLine\"\n                        src={myImage}\n                        alt=\"Finish Line\"\n                        draggable=\"true\"\n                        onDrop={(e) => {\n                            e.preventDefault();\n                            const eventId = e.dataTransfer.getData('text/plain');\n                            handleEventDrop(eventId);\n                            \n                        }}\n                        onDragOver={(e) => e.preventDefault()}\n            \n\n                    />\n                    \n                </div>\n                \n                {/* Render confetti if true */}    \n                {confetti && <Confetti />}\n\n                {/* List of events in month calendar */}\n                <div className=\"event-list\">\n                    <h2>Important Dates</h2>\n                        <ul id=\"lists\">\n                            {importantEventsThisWeek.map((event, index) => (\n                                <li key={index}>\n                                    {event.title} - {new Date(event.start).toLocaleDateString()}\n                                </li>\n                            ))}\n                        </ul>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default WeekPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}