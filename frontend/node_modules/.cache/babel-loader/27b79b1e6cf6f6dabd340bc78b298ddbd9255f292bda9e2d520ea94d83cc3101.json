{"ast":null,"code":"import React,{useEffect}from\"react\";import CreateNote from\"./CreateNote\";import{useState}from\"react\";import'./notes.css';import{v4 as uuid}from'uuid';import Note from\"./Note\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function Notes(){const[inputText,setInputText]=useState(\"\");const[notes,setNotes]=useState(()=>{return JSON.parse(localStorage.getItem(\"Notes\"))||[];});const[editToggle,setEditToggle]=useState(null);const editHandler=(id,text)=>{setEditToggle(id);setInputText(text);};const saveHandler=()=>{if(editToggle){setNotes(notes.map(note=>note.id===editToggle?{...note,text:inputText}:note));}else{setNotes(prevNotes=>[...prevNotes,{id:uuid(),text:inputText}]);}setInputText(\"\");setEditToggle(null);};const deleteHandler=id=>{const newNotes=notes.filter(n=>n.id!==id);setNotes(newNotes);};/*\n    useEffect(() => {\n        const data = JSON.parse(localStorage.getItem(\"Notes\"));\n        console.log(data);\n        if(data) {\n            setNotes(data);\n        }\n    }, []);\n*/useEffect(()=>{window.localStorage.setItem(\"Notes\",JSON.stringify(notes));},[notes]);return/*#__PURE__*/_jsxs(\"div\",{classNotes:\"notes\",children:[notes.map(note=>editToggle===note.id?/*#__PURE__*/_jsx(CreateNote,{inputText:inputText,setInputText:setInputText,saveHandler:saveHandler}):/*#__PURE__*/_jsx(Note,{id:note.id,text:note.text,editHandler:editHandler,deleteHandler:deleteHandler},note.id)),editToggle===null?/*#__PURE__*/_jsx(CreateNote,{inputText:inputText,setInputText:setInputText,saveHandler:saveHandler}):/*#__PURE__*/_jsx(_Fragment,{})]});}export default Notes;","map":{"version":3,"names":["React","useEffect","CreateNote","useState","v4","uuid","Note","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Notes","inputText","setInputText","notes","setNotes","JSON","parse","localStorage","getItem","editToggle","setEditToggle","editHandler","id","text","saveHandler","map","note","prevNotes","deleteHandler","newNotes","filter","n","window","setItem","stringify","classNotes","children"],"sources":["/Users/annalisekimura/Desktop/Calendar/calendar/src/Pages/Notes.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport CreateNote from \"./CreateNote\";\nimport { useState } from \"react\";\nimport './notes.css';\nimport {v4 as uuid} from 'uuid';\nimport Note from \"./Note\";\n\nfunction Notes() {\n    const [inputText, setInputText] = useState(\"\");\n    const [notes, setNotes] = useState(() => {\n        return JSON.parse(localStorage.getItem(\"Notes\")) || []\n    });\n    const [editToggle, setEditToggle] = useState(null);\n\n\n    const editHandler = (id, text) => {\n        setEditToggle(id);\n        setInputText(text);\n\n    }\n\n    const saveHandler = () => {\n        if(editToggle) {\n            setNotes(notes.map((note) => (\n                note.id === editToggle ?\n                {...note, text: inputText}\n                : note\n            )))\n        } else {\n            setNotes((prevNotes) => [\n                ...prevNotes, {\n                    id: uuid(),\n                    text: inputText\n                }\n            ])\n        }\n        setInputText(\"\");\n        setEditToggle(null);\n    }\n\n    const deleteHandler = (id) => {\n        const newNotes = notes.filter(n => n.id !== id);\n        setNotes(newNotes);\n    }\n/*\n    useEffect(() => {\n        const data = JSON.parse(localStorage.getItem(\"Notes\"));\n        console.log(data);\n        if(data) {\n            setNotes(data);\n        }\n    }, []);\n*/\n\n    useEffect(() => {\n        window.localStorage.setItem(\"Notes\", JSON.stringify(notes))\n    }, [notes])\n\n    return (\n        <div classNotes='notes'>\n            {\n                notes.map((note) => (\n                    editToggle === note.id ?\n                    <CreateNote\n                    inputText={inputText}\n                    setInputText = {setInputText}\n                    saveHandler = {saveHandler}\n                    />\n\n                    :\n\n                    <Note\n                        key={note.id}\n                        id={note.id}\n                        text={note.text}\n                        editHandler={editHandler}\n                        deleteHandler={deleteHandler}\n                    >\n\n                    </Note>\n                ))\n            }\n\n            {\n                editToggle === null ?\n                <CreateNote\n                inputText={inputText}\n                setInputText = {setInputText}\n                saveHandler = {saveHandler}\n                />\n                : <></>\n\n            }\n\n        </div>\n    )\n}\n\nexport default Notes;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}